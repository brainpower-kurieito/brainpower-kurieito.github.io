/*! For license information please see app.js.LICENSE.txt */
!function(){"use strict";var t,e={218:function(t,e,i){var s=i(260),n=i.n(s);class r extends n().GameObjects.Text{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.setInteractive({useHandCursor:!0}).on("pointerdown",(()=>this.enterButtonActiveState())).on("pointerover",(()=>this.enterButtonHoverState())).on("pointerout",(()=>this.enterButtonRestState())).on("pointerup",(()=>{this.enterButtonHoverState(),r()}))}enterButtonHoverState(){this.setStyle({fill:"#ff0"})}enterButtonRestState(){this.setStyle({fill:"#0f0"})}enterButtonActiveState(){this.setStyle({fill:"#0ff"})}}var o=class extends n().Scene{constructor(){super({key:"TitleScene"})}preload(){this.load.image("title","assets/images/title.png")}create(){const t=this.game.config.width,e=this.game.config.height,i=this.add.image(t/2,e/2,"title");i.setScale(t/i.width,e/i.height);const s=new r(this,t/2,e/1.5,"START",{fill:"#000"},(()=>this.scene.start("DoraScene")));this.add.existing(s)}},a=class extends n().Scene{constructor(){super({key:"ResultScene"})}create(t){const e=this.game.config.width,i=this.game.config.height,s="score"in t?t.score:0;this.add.text(e/2,i/5,"score: "+s,{fill:"#fff"}),this.add.text(e/2,i/4,"いかがでしたか？",{fill:"#fff"}).setFontSize(32);const n=new r(this,e/2,i/1.8,"ツイートで共有",{fill:"#fff"},(()=>this.tweetScore(s)));this.add.existing(n);const o=new r(this,e/2,i/1.5,"BACK TO TITLE",{fill:"#fff"},(()=>this.scene.start("TitleScene")));this.add.existing(o)}tweetScore(t){let e="https://twitter.com/intent/tweet";e+="?text=スコア："+t,e+="&hashtags=dorakue",window.open(e,"_blank")}};function l(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,h(t,e,"get"))}function h(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var c=new WeakMap;class u extends n().GameObjects.Sprite{constructor(t,e,i,s){super(t,e,i,"kue",s),c.set(this,{writable:!0,value:-4}),this.setScale(.4)}faint(){this.destroy()}update(){var t,e,i;super.update(),this.x+=l(this,c),(0>this.x||1e3<this.x)&&(t=this,e=c,i=-1*l(this,c),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,h(t,e,"set"),i),this.flipX=!this.flipX)}}function f(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,d(t,e,"get"))}function d(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var p=new WeakMap,g=new WeakSet;class m{constructor(t){g.add(this),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"group",void 0),p.set(this,{writable:!0,value:void 0}),this.group=new(n().GameObjects.Group),t.add.existing(this.group),function(t,e,i){(function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}})(t,d(t,e,"set"),i)}(this,p,t)}spawn(t,e){if(!(this.group.getLength()>=5)){if(!t||!e){const[i,s]=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}(this,g,w).call(this);t??(t=i),e??(e=s)}const i=new u(f(this,p),t,e);f(this,p).add.existing(i),this.group.add(i)}}faint(t,e){let i=0;for(const s of this.group.getChildren())(s.x-t)**2+(s.y-e)**2<1e4&&(s.faint(),i++);return i}}function w(){return[Math.floor(1e3*Math.random()),Math.floor(600*Math.random())]}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function y(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,b(t,e,"get"))}function S(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,b(t,e,"set"),i),i}function b(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var k=new WeakMap,x=new WeakMap,T=class extends n().Scene{constructor(){super({key:"DoraScene"}),v(this,"keys",void 0),v(this,"logo",void 0),k.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:0})}preload(){this.load.image("sky","http://labs.phaser.io/assets/skies/space3.png"),this.load.image("red","http://labs.phaser.io/assets/particles/red.png"),this.load.image("logo","assets/images/china_dora_tamtam_ipo.png"),this.load.image("kue","assets/images/fish_kue2.png")}create(){this.add.image(400,300,"sky"),this.minimap=this.cameras.add(10,10,0,0).setZoom(.2).setName("mini"),this.minimap.setBackgroundColor(8772),this.minimap.scrollX=0,this.minimap.scrollY=0,this._timeCounter=0,this._leftTimeMS=1e5,this._leftTimeText=this.add.text(300,16,"Time: "+this._leftTimeMS,{fontSize:"28px",fill:"#FFF"});const t=this.add.particles("red").createEmitter({speed:100,scale:{start:1,end:0},blendMode:"ADD"}),e=this.physics.add.sprite(400,100,"logo");e.setScale(.2),e.setCollideWorldBounds(!0),e.body.setAllowGravity(!1),this.logo=e,t.startFollow(e),this.keys=this.input.keyboard.addKeys("W,S,A,D"),S(this,k,new m(this)),y(this,k).spawn(100,100),y(this,k).group.runChildUpdate=!0}update(t,e){this.keys.W.isDown&&(this.logo.y-=20),this.keys.S.isDown&&(this.logo.y+=20),this.keys.A.isDown&&(this.logo.x-=20),this.keys.D.isDown&&(this.logo.x+=20),S(this,x,y(this,x)+e),y(this,x)>=2e3&&(y(this,k).spawn(),S(this,x,0)),this._timeCounter+=this.time.elapsed,this._leftTimeMS-=e,this._leftTimeText.text="Time: "+Math.floor(this._leftTimeMS/1e3),0>=this._leftTimeMS&&(this._timeCounter=0,this.scene.start("ResultScene"))}},O={type:n().AUTO,width:800,height:600,physics:{default:"arcade",arcade:{gravity:{y:200}}}};const _=Object.assign(O,{scene:[o,T,a]});class M extends n().Game{constructor(){super(_)}}window.game=new M}},i={};function s(t){var n=i[t];if(void 0!==n)return n.exports;var r=i[t]={exports:{}};return e[t].call(r.exports,r,r.exports,s),r.exports}s.m=e,t=[],s.O=function(e,i,n,r){if(!i){var o=1/0;for(h=0;h<t.length;h++){i=t[h][0],n=t[h][1],r=t[h][2];for(var a=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(a=!1,r<o&&(o=r));a&&(t.splice(h--,1),e=n())}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[i,n,r]},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,r,o=i[0],a=i[1],l=i[2],h=0;for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(l)var c=l(s);for(e&&e(i);h<o.length;h++)r=o[h],s.o(t,r)&&t[r]&&t[r][0](),t[o[h]]=0;return s.O(c)},i=self.webpackChunkdorakue=self.webpackChunkdorakue||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var n=s.O(void 0,[260],(function(){return s(218)}));n=s.O(n)}();