/*! For license information please see app.js.LICENSE.txt */
!function(){"use strict";var t,e={258:function(t,e,i){var s=i(260),n=i.n(s);class r extends n().GameObjects.Text{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.setInteractive({useHandCursor:!0}).on("pointerdown",(()=>this.enterButtonActiveState())).on("pointerover",(()=>this.enterButtonHoverState())).on("pointerout",(()=>this.enterButtonRestState())).on("pointerup",(()=>{this.enterButtonHoverState(),r()}))}enterButtonHoverState(){this.setStyle({fill:"#ff0"})}enterButtonRestState(){this.setStyle({fill:"#0f0"})}enterButtonActiveState(){this.setStyle({fill:"#0ff"})}}var a=class extends n().Scene{constructor(){super({key:"TitleScene"})}preload(){this.load.image("title","assets/images/title.png")}create(){const t=this.game.config.width,e=this.game.config.height,i=this.add.image(t/2,e/2,"title");i.setScale(t/i.width,e/i.height);const s=new r(this,t/2,e/1.5,"START",{fill:"#000"},(()=>this.scene.start("DoraScene")));this.add.existing(s)}},o=class extends n().Scene{constructor(){super({key:"ResultScene"})}create(t){const e=this.game.config.width,i=this.game.config.height,s="score"in t?t.score:0;this.add.text(e/2,i/5,"score: "+s,{fill:"#fff"}),this.add.text(e/2,i/4,"いかがでしたか？",{fill:"#fff"}).setFontSize(32);const n=new r(this,e/2,i/1.8,"ツイートで共有",{fill:"#fff"},(()=>this.tweetScore(s)));this.add.existing(n);const a=new r(this,e/2,i/1.5,"BACK TO TITLE",{fill:"#fff"},(()=>this.scene.start("TitleScene")));this.add.existing(a)}tweetScore(t){let e="https://twitter.com/intent/tweet";e+="?text=スコア："+t,e+="&hashtags=dorakue",window.open(e,"_blank")}};function h(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,l(t,e,"get"))}function l(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var u=new WeakMap;class c extends n().GameObjects.Sprite{constructor(t,e,i,s){super(t,e,i,"kue",s),u.set(this,{writable:!0,value:-4}),this.setScale(.4)}faint(){this.destroy()}update(){var t,e,i;super.update(),this.x+=h(this,u),(0>this.x||1e3<this.x)&&(t=this,e=u,i=-1*h(this,u),function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,l(t,e,"set"),i),this.flipX=!this.flipX)}}function d(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,f(t,e,"get"))}function f(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var p=new WeakMap,g=new WeakSet;class m{constructor(t){g.add(this),function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(this,"group",void 0),p.set(this,{writable:!0,value:void 0}),this.group=new(n().GameObjects.Group),t.add.existing(this.group),function(t,e,i){(function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}})(t,f(t,e,"set"),i)}(this,p,t)}spawn(t,e){if(!(this.group.getLength()>=5)){if(!t||!e){const[i,s]=function(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}(this,g,w).call(this);t??(t=i),e??(e=s)}const i=new c(d(this,p),t,e);d(this,p).add.existing(i),this.group.add(i)}}faint(t,e){let i=0;for(const s of this.group.getChildren())(s.x-t)**2+(s.y-e)**2<1e4&&(s.faint(),i++);return i}}function w(){return[Math.floor(1e3*Math.random()),Math.floor(600*Math.random())]}var v=new WeakMap;class y extends n().GameObjects.Sprite{constructor(t,e,i,s,n){super(t,e,i,"logo"),v.set(this,{writable:!0,value:5}),this.keys=s,this.setScale(n)}move(){this.keys.W.isDown&&(this.y-=5),this.keys.S.isDown&&(this.y+=5),this.keys.A.isDown&&(this.x-=5),this.keys.D.isDown&&(this.x+=5)}hitDora(t){t.play()}}function S(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function k(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,x(t,e,"get"))}function b(t,e,i){return function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=i}}(t,x(t,e,"set"),i),i}function x(t,e,i){if(!e.has(t))throw new TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}var T=new WeakMap,O=new WeakMap,_=new WeakMap,M=class extends n().Scene{constructor(){super({key:"DoraScene"}),S(this,"keys",void 0),S(this,"logo",void 0),T.set(this,{writable:!0,value:void 0}),O.set(this,{writable:!0,value:0}),_.set(this,{writable:!0,value:void 0})}preload(){this.load.image("sky","http://labs.phaser.io/assets/skies/space3.png"),this.load.image("red","http://labs.phaser.io/assets/particles/red.png"),this.load.image("logo","assets/images/china_dora_tamtam_ipo.png"),this.load.image("kue","assets/images/fish_kue2.png"),this.load.audio("theme","assets/audio/DORAKUEloop.mp3"),this.load.audio("doraSound","assets/audio/effects/dorakick_0.mp3")}create(){this.add.image(400,300,"sky");const t=this.sound.add("doraSound",{volume:.7});this.sound.add("theme",{volume:.4}).play(),this.minimap=this.cameras.add(10,10,0,0).setZoom(.2).setName("mini"),this.minimap.setBackgroundColor(8772),this.minimap.scrollX=0,this.minimap.scrollY=0,this._timeCounter=0,this._leftTimeMS=63e3,this._leftTimeText=this.add.text(300,16,"Time: "+this._leftTimeMS,{fontSize:"28px",fill:"#FFF"}),this.keys=this.input.keyboard.addKeys("W,S,A,D");const e=this.game.config.width,i=this.game.config.height;b(this,_,new y(this,e/2,i/2,this.keys,.2)),this.add.existing(k(this,_));const s=k(this,_);this.input.keyboard.on("keydown-SPACE",(function(){s.hitDora(t)})),b(this,T,new m(this)),k(this,T).spawn(100,100),k(this,T).group.runChildUpdate=!0}update(t,e){k(this,_).move(),b(this,O,k(this,O)+e),k(this,O)>=2e3&&(k(this,T).spawn(),b(this,O,0)),this._timeCounter+=this.time.elapsed,this._leftTimeMS-=e,this._leftTimeText.text="Time: "+Math.floor(this._leftTimeMS/1e3),0>=this._leftTimeMS&&(this._timeCounter=0,this.scene.start("ResultScene"))}},j={type:n().AUTO,width:800,height:600,physics:{default:"arcade",arcade:{gravity:{y:200}}}};const C=Object.assign(j,{scene:[a,M,o]});class D extends n().Game{constructor(){super(C)}}window.game=new D}},i={};function s(t){var n=i[t];if(void 0!==n)return n.exports;var r=i[t]={exports:{}};return e[t].call(r.exports,r,r.exports,s),r.exports}s.m=e,t=[],s.O=function(e,i,n,r){if(!i){var a=1/0;for(l=0;l<t.length;l++){i=t[l][0],n=t[l][1],r=t[l][2];for(var o=!0,h=0;h<i.length;h++)(!1&r||a>=r)&&Object.keys(s.O).every((function(t){return s.O[t](i[h])}))?i.splice(h--,1):(o=!1,r<a&&(a=r));o&&(t.splice(l--,1),e=n())}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[i,n,r]},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,{a:e}),e},s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,r,a=i[0],o=i[1],h=i[2],l=0;for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(h)var u=h(s);for(e&&e(i);l<a.length;l++)r=a[l],s.o(t,r)&&t[r]&&t[r][0](),t[a[l]]=0;return s.O(u)},i=self.webpackChunkdorakue=self.webpackChunkdorakue||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var n=s.O(void 0,[260],(function(){return s(258)}));n=s.O(n)}();